<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        function get_form_data() {
            //get the form data
            var data = {
                username: document.getElementById("uid").value,
                password: document.getElementById("pwd").value
            };

            return JSON.stringify(data);
        }
    </script>
</head>

<body>
    <!-- <form name="example" action=""> -->
    <label> Username <input id="uid" name="username" type="text" /> </label>
    <label> Password <input id="pwd" name="password" type="password" /> </label> <br /> <br />
    <button onclick="f1()">Log in</button>
    <!-- </form> -->
    <br />
    <br />
    <div id="output">
    </div>
</body>
<script>
    function f1() {
    	alert(get_form_data());
        //1.创建ajax对象
        var xmlHttp = new XMLHttpRequest();
        //2.绑定监听函数
        xmlHttp.onreadystatechange = function() {
                //判断数据是否正常返回
                if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
                    //6.接收数据
                    var res = xmlHttp.responseText;
                    alert(res);
                    document.getElementById("output").innerHTML = res;
                } else if (xmlHttp.status == 403) {
                    alert(403);
                }
            }
            //3.绑定处理请求的地址,true为异步，false为同步
            //GET方式提交把参数加在地址后面?key1:value&key2:value
        xmlHttp.open("POST", "http://web.cs.georgefox.edu/~xchen13/314-Ladder/login/index.php", true);
        //4.POST提交设置的协议头（GET方式省略）
        xmlHttp.setRequestHeader("Content-type", "application/json");
        //POST提交将参数，如果是GET提交send不用提交参数
        //5.发送请求
        xmlHttp.send(get_form_data());
    }
</script>

</html>